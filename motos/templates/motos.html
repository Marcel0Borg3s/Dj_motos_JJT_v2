{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container-custom">
  <!-- Formulário de busca -->
  <div class="search-container-custom">
    <form method="GET" action="{% url 'motos_list' %}">
      <input type="text" 
             name="search" 
             class="search-input-custom" 
             placeholder="Buscar moto por marca, modelo ou ano..."
             value="{{ request.GET.search }}">
      <button type="submit" class="btn-custom btn-primary-custom">Buscar</button>
    </form>
  </div>

  <!-- Grid de motos -->
  <div class="grid-custom grid-3">
    {% if motos %}
      {% for moto in motos %}
        <a href="{% url 'moto_detail' moto.pk %}" style="text-decoration: none;">
          <div class="card-custom fade-in-custom">
            {% if moto.photo and moto.photo.url %}
              <img src="{{ moto.photo.url }}" alt="{{ moto.model }} - {{ moto.brand }}" class="card-img-custom">
            {% else %}
              <img src="{% static 'images/Preparacao.png' %}" alt="Sem foto disponível" class="card-img-custom">
            {% endif %}
              
            <div class="card-body-custom">
              <h3 class="card-title-custom">{{ moto.brand }} {{ moto.model }}</h3>
              <p class="card-text-custom">
                <span class="text-highlight-custom">Ano:</span> {{ moto.factor_year }}<br>
                <span class="text-highlight-custom">Modelo:</span> {{ moto.model_year }}<br>
                <span class="text-highlight-custom">Preço:</span>
                {% if moto.value %}
                  R$ {{ moto.value }}
                {% else %}
                  Consulte
                {% endif %}
              </p>
            </div>
          </div>
        </a>
      {% endfor %}
    {% else %}
      <div class="text-center-custom" style="grid-column: 1 / -1;">
        <h3 class="text-muted-custom">Nenhuma moto encontrada</h3>
        <p class="text-muted-custom">Tente ajustar os filtros de busca ou adicione uma nova moto.</p>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}

